# 海明码
将出错的位数做成编码，还原的时候就能确定出错位置
[视频](https://www.bilibili.com/video/BV1SJ41157pR)

## 校验示例(奇校验)

1       0       1       0

### 错误 1 位 (5号位出错)

*0*      *1*      1      *0*      0      1      0      =>     0      1      0

*0*      *1*      1      *0*      `1`      1      0      |      1      (奇偶校验位)


0      1      1      0      ->      1

1      1      1      0      ->      0      =>     5

0      1      1      0      ->      1

> 正确的修改了 5 号位

### 错误 2 位 (5 和 6 位都出错)

*0*      *1*      1      *0*      0      1      0      =>     0      1      0

*0*      *1*      1      *0*      `1`      `0`      0      |      0      (奇偶校验位)


0      1      1      0      ->      1

1      1      0      0      ->      1      =>     3

0      1      0      0      ->      0

> 想错误的修改 3 号位

> 此时因为两位变化奇偶校验位不变 说明有两位以上的错误重传

*0*      *1*      `0`      *0*      `1`      `0`      0

递归下一次纠错

0      0      1      0      ->      0

1      0      0      0      ->      0      =>     0

0      1      0      0      ->      0

> 没有发现错误

### 错误 3 位 (5 、 6 和 7 位都出错)

*0*      *1*      1      *0*      0      1      0      =>     0      1      0

*0*      *1*      1      *0*      `1`      `0`      `1`

0      1      1      1      ->      0

1      1      0      1      ->      0      =>     4

0      1      0      1      ->      1

> 错误的修改了 4 号位

### 海明码本身出现 1 位错误

*0*      *1*      1      *0*      0      1      0      =>     0      1      0

*0*      *1*      1      `*1*`      0      1      0


0      1      0      0      ->      0

1      1      1      0      ->      0      =>     4

1      0      1      0      ->      1

> 正确的修改了 4 号位

## 判断

码距为3的海明码只能能纠错1位或发现2位错

2^r-1>=k+r 确定的检测位只能检测+纠正1位

L = D + C + 1 ，D>=C，其中L为最小码距，D为检错位数，C为纠错位数
要想具有纠错能力，海明码的最小码距应该为3

3 位海明码 1 位奇偶校验位 4 位数据 正好一个字节



## 码距为 4 的实例 (奇校验)

1       0       1       0       0       1       1       0

?       ?       1       ?       0       1       0       ?       0       1       1       0

0001    0010    0011    0100    0101    0110    0111    1000    1001    1010    1011    1100

3579B   367AB           567C                            9ABC

10001   11011            0100                             0110

*1*     *1*     1       *0*     0       1       0       *1*       0       1        1       0
=>
1       1       0       1

### 错误 2 位 (5 和 6 位都出错)

*1*     *1*     1       *0*     `1`       `0`       0       *1*       0       1        1       0


1       1       1       0       0       1      ->       1

1       1       0       0       1       1      ->       1         =>      3

0       1       0       0       0              ->       0

1       0       1       1       0              ->       0

> 错误的修改了 3 号位

---------------------------

## 初步推断

海明码 修复 1 位错误时不能发现 2 位以上的错误

CRC 校验一定能发现误码存在

增加 1 位码距可以发现 4 位错误
    比如将数据折半做异或
